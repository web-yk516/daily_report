## 取り組んだ課題一覧
- 達人に学ぶDB設計
## わかったこと
- グレーノウハウ
    - 代理キー
        - 主キーが役に立たないとき
            - そもそも入力データに主キーにできるような一意キーが存在しない
            - 一意キーはあるが、サイクリックに使いまわされる
            - 一意キーはあるが、途中で指す対象が変化する
        - 上記は代理キーで解決できるが、自然キーによる解決を図るべき
        - 自然キーによる解決は下記の２種類がある
            - タイムスタンプ
            - インターバル
    - 列持ちテーブル
        - 列持ちテーブルではなく行持ちテーブルを採用する
    - アドホック(場当たり的)な集計キー
        - 解決策としてキーを別テーブルに分離する
        - ビューを使う
        - GROUP BY句の中でアドホックキーを作る(CASE文を使用)
    - 多段ビュー
        - ビューへのアクセスは2段階で行われる
        - ビューの使用は原則1段にとどめておく
- データクレンジング
    - 一意キーの特定をしないとバッドノウハウの不適切なキーを生み出す
    - 名寄せをしないとバッドノウハウのダブルマスタになる
- リレーショナルデータベースで木構造を扱う
    - 入れ子集合モデル
        - ノードを点ではなく面積を持った円として捉える
        - 弱点は更新時のパフォーマンス
    - 入れ子区間モデル
        - 円の左端右端の座標値として、取れる範囲を実数まで広げた入れ子集合モデルの拡張版
        - 無関係なノードをずらさずに新規ノードを追加可能
        - 追加ノードの左端座標→(plft * 2 + prgt) / 3
        - 追加ノードの右端座標→(plft + prgt * 2) / 3
    - 経路列挙モデル
        - `_%`は1文字以上の任意の文字列
        - 検索が簡単だが、更新が複雑
## 次やること
- データベース設計の基本
## 感じたこと
- グレーノウハウを回避することでバッドノウハウになる確率が低くなるのが参考になりました。
## 学習時間
- 本日：3h30m
- 累計：272h15m
