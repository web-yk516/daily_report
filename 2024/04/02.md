## 取り組んだ課題一覧
- Ruby on Rails5速習実践ガイドを読む
## わかったこと
- ログイン機能としてのセッションはWebアプリケーションのセッションとは違い、あるユーザーとしてのアプリケーションとのやりとりという意味合い
    - コントローラーが扱う概念的なデータをリソースと表現する
    - 誰もログインしてない状態は、session[:user_id]がnil
    - 誰かがログインしている状態は、session[:user_id]にログイン中のユーザーのIDが入っている
    - ログイン後は下記のコードでユーザーを取得できる
    ```
    User.find_by(id: session[:user_id])
    ```
    - findでも取得できるが、find_byを使っているのはnilの場合、エラーにならないようにするため
    - skip_before_actionで親クラスなどですでに定義済みのフィルタを通らないようにできる
    - skip_before_actionは指定のアクションだけに適用も可能
- scopeを活用することでクエリー用のメソッドの連続した呼び出し部分をまとめて名前をつけてカスタムのクエリー用のメソッドとして使用できる
    ```task.rb
      scope :recent, -> { order(created_at: :desc) }
    ```
    - 下記のように使用できる
    ```
    tasks = Task.recent # 全件を新しい順に取得
    tasks = Task.recent.first # 最も新しいタスクのオブジェクトを取得
    tasks = Task.recent.last # 最も古いタスクのオブジェクトを取得
    tasks = current_user.tasks.recent # ログインしているユーザーのタスクを新しい順に取得
    tasks = Task.where(user_id: [1, 2, 5]).recent # IDが1または2または5のユーザーの作ったタスクを新しい順に取得
    ```
- テストを書くことのメリット8つ
    - テスト全体にかかるコストの削減
    - 変更をフットワーク軽く行える
    - 環境のバージョンアップやリファクタリングの必須条件
    - 仕様変更の影響の大きさを勘棚に把握することができる
    - 仕様を記述したドキュメントとしても機能する
    - 仕様やインターフェイスを深く考えるきっかけとして役立つ
    - 適切な粒度のコードになりやすい
    - 確実性を高めることで開発効率を上げる
## 次やること
- Ruby on Rails5速習実践ガイドを読む
## 感じたこと
- テストを書くことのメリットがわかりやすかったです。テストを書くときに見返したい内容でした。
## 学習時間
- 本日：3h30m
- 累計：327h45m
